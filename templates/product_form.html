{% extends "base.html" %}
{% block title %}Gestión de Productos{% endblock %}
{% block content %}
<div class="container my-5">
  <h2 class="mb-4">{{ action }} Producto</h2>
  <form action="" method="POST" enctype="multipart/form-data" class="p-4 shadow rounded bg-light">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input type="text" class="form-control" id="nombre" name="nombre" value="{{ producto.nombre if producto else '' }}" required>
    </div>

    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required>{{ producto.descripcion if producto else '' }}</textarea>
    </div>

    <div class="mb-3">
      <label for="categoria" class="form-label">Categoría</label>
      <input type="text" class="form-control" id="categoria" name="categoria" value="{{ producto.categoria if producto else '' }}" required>
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label for="talla" class="form-label">Talla</label>
        <select class="form-select" id="talla" name="talla" required>
          {% for t in ['S','M','L','XL'] %}
          <option value="{{t}}" {% if producto and producto.talla==t %}selected{% endif %}>{{t}}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6 mb-3">
        <label for="precio_producto" class="form-label">Precio</label>
        <input type="number" step="0.01" class="form-control" id="precio_producto" name="precio_producto" value="{{ producto.precio_producto if producto else '' }}" required>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Disponibilidad</label>
      <select class="form-select" name="disponibilidad" required>
        <option value="SI" {% if producto and producto.disponibilidad=='SI' %}selected{% endif %}>Disponible</option>
        <option value="NO" {% if producto and producto.disponibilidad=='NO' %}selected{% endif %}>No disponible</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="stock" class="form-label">Stock</label>
      <input type="number" class="form-control" id="stock" name="stock" min="0" value="{{ producto.stock if producto else 0 }}" required>
    </div>

    <div class="mb-3">
      <label for="foto_producto" class="form-label">Foto</label>
      <input type="file" class="form-control" id="foto_producto" name="foto_producto" accept="image/*">
    </div>

    <button type="submit" class="btn btn-primary w-100">{{ action }}</button>
  </form>
</div>
{% endblock %}
